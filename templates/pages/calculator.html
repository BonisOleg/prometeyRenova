{% extends 'base.html' %}
{% load static %}

{% block title %}{{ page_title }}{% endblock %}
{% block description %}{{ meta_description }}{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'css/calculator.css' %}">
{% endblock %}

{% block content %}
<!-- Info Section -->
<section class="calculator-info bg-beige">
    <div class="container">
        <h1 class="text-large color-red mb-md text-center">Розрахувати вартість проекту</h1>

        <div class="grid-70-30">
            <div class="info-content">
                <h2 class="text-medium mb-sm">Чому наші ціни конкурентні?</h2>
                <p class="text-base mb-sm">
                    Ми використовуємо найновіші технології та сучасні інструменти розробки,
                    що значно скорочує час на створення проекту. Це означає, що клієнту потрібно
                    оплачувати менше годин роботи спеціаліста.
                </p>

                <ul class="benefits-list">
                    <li>React, Vue.js для швидкої розробки інтерфейсів</li>
                    <li>Django, FastAPI для надійного backend</li>
                    <li>Готові компоненти та шаблони</li>
                    <li>Автоматизовані процеси тестування</li>
                    <li>Сучасні інструменти деплойменту</li>
                </ul>
            </div>

            <div class="cta-sidebar">
                <div class="cta-box bg-white p-sm">
                    <h3 class="text-medium color-red mb-sm">Пройти тест</h3>
                    <p class="text-base mb-sm">
                        Відповісте на 5 питань і отримайте точний розрахунок вартості
                    </p>
                    <button class="btn btn-primary" onclick="showTestForm()">Розпочати тест</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Test Form (буде відображатися динамічно) -->
<section class="test-section hidden" id="test-section">
    <div class="container">
        <div class="test-form bg-white p-md">
            <h2 class="text-medium color-red mb-md text-center">Тест для розрахунку вартості</h2>

            <form id="calculator-test" data-form-type="test">
                {% csrf_token %}

                <div class="question mb-md">
                    <h3 class="text-sub mb-sm">1. Що саме вам потрібно?</h3>
                    <div class="options">
                        <label><input type="radio" name="question_1" value="A" required> Веб-сайт (лендінг,
                            корпоративний сайт)</label>
                        <label><input type="radio" name="question_1" value="B" required> Telegram бот</label>
                        <label><input type="radio" name="question_1" value="C" required> Реклама (Google Ads, Facebook
                            Ads)</label>
                        <label><input type="radio" name="question_1" value="D" required> Інтернет-магазин</label>
                        <label><input type="radio" name="question_1" value="E" required> Мобільний додаток</label>
                    </div>
                </div>

                <div class="question mb-md">
                    <h3 class="text-sub mb-sm">2. Куди мають надходити заявки/контакти?</h3>
                    <div class="options">
                        <label><input type="radio" name="question_2" value="A" required> Форма на сайті</label>
                        <label><input type="radio" name="question_2" value="B" required> Telegram бот</label>
                        <label><input type="radio" name="question_2" value="C" required> WhatsApp/Вайбер</label>
                        <label><input type="radio" name="question_2" value="D" required> Email</label>
                        <label><input type="radio" name="question_2" value="E" required> Телефон</label>
                    </div>
                </div>

                <div class="question mb-md">
                    <h3 class="text-sub mb-sm">3. За скільки днів потрібно зробити?</h3>
                    <div class="options">
                        <label><input type="radio" name="question_3" value="A" required> Терміново (3-7 днів)</label>
                        <label><input type="radio" name="question_3" value="B" required> Стандартно (10-14 днів)</label>
                        <label><input type="radio" name="question_3" value="C" required> Не поспішаємо (2-4
                            тижні)</label>
                        <label><input type="radio" name="question_3" value="D" required> Гнучкий графік</label>
                    </div>
                </div>

                <div class="question mb-md">
                    <h3 class="text-sub mb-sm">4. Чи потрібна оплата на сайті?</h3>
                    <div class="options">
                        <label><input type="radio" name="question_4" value="A" required> Ні, тільки форма заявки</label>
                        <label><input type="radio" name="question_4" value="B" required> Так, онлайн оплата
                            картою</label>
                        <label><input type="radio" name="question_4" value="C" required> Так, через
                            термінал/касу</label>
                        <label><input type="radio" name="question_4" value="D" required> Так, через криптовалюту</label>
                        <label><input type="radio" name="question_4" value="E" required> Так, через розрахунковий
                            рахунок</label>
                    </div>
                </div>

                <div class="question mb-md">
                    <h3 class="text-sub mb-sm">5. Яка готовність проекту?</h3>
                    <div class="options">
                        <label><input type="radio" name="question_5" value="A" required> Тільки думки, потрібна
                            консультація</label>
                        <label><input type="radio" name="question_5" value="B" required> Є макети/дизайн</label>
                        <label><input type="radio" name="question_5" value="C" required> Є технічне завдання</label>
                        <label><input type="radio" name="question_5" value="D" required> Є логотип та брендинг</label>
                        <label><input type="radio" name="question_5" value="E" required> Є соціальні мережі та
                            контент</label>
                    </div>
                </div>

                <div class="user-data">
                    <div class="form-group">
                        <label for="test-name" class="form-label">Ваше ім'я *</label>
                        <input type="text" id="test-name" name="name" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label for="test-phone" class="form-label">Номер телефону *</label>
                        <input type="tel" id="test-phone" name="phone" class="form-input" required>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">Отримати розрахунок</button>
            </form>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/calculator.js' %}"></script>
{% endblock %}